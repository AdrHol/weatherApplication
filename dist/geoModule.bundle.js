(()=>{"use strict";var t={471:(t,e,n)=>{n.d(e,{Z:()=>r});var a=n(28);const s={fetchWeather:function([t,e]){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=aeb5a5b9131ac1f1213c966761c4167e&units=metric`,{mode:"cors"}).then((function(t){return t.json()})).then((function(t){i.current=t})).then((function(){a.Z.data()})).catch((function(t){console.log(t)}))},fetchByCity(t){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=aeb5a5b9131ac1f1213c966761c4167e&units=metric`,{mode:"cors"}).then((function(t){if(404===t.status)throw alert("City not found");return t.json()})).then((function(t){i.current=t})).then((function(){a.Z.data()})).catch((function(t){console.log(t)}))}},i={current:void 0,currentUnit:0,getData(){const t=`${Math.round(this.current.main.temp)} ℃`,e=`${Math.round(this.current.main.feels_like)} ℃`,n=this.current.weather[0].description,a=`${this.current.wind.speed} km/h`,s=new Date(1e3*this.current.sys.sunrise),i=new Date(1e3*this.current.sys.sunset);function r(t){let e="";return t.getHours()<10?(e+="0",e+=t.getHours(),t.getMinutes()<10?(e+=":0",e+=t.getMinutes()):t.getMinutes()>=10&&(e+=":",e+=t.getMinutes())):t.getHours()>10&&(e+=t.getHours(),t.getMinutes()<10?(e+=":0",e+=t.getMinutes()):t.getMinutes()>=10&&(e+=":",e+=t.getMinutes())),e}return{temp:t,feel:e,desc:n,wind:a,sunrise:r(s),sunset:r(i)}},unitChange(){const t=document.querySelector("#temp-value"),e=document.querySelector("#feels-value"),n=document.querySelector("button#unit-change");let a=this.current.main.temp,s=this.current.main.feels_like;0===this.currentUnit?(t.textContent=Math.round(9*a/5+35)+"℉",e.textContent=Math.round(9*s/5+35)+"℉",n.textContent="C",this.currentUnit=1):1===this.currentUnit&&(t.textContent=Math.round(a)+"℃",e.textContent=Math.round(s)+"℃",n.textContent="F",this.currentUnit=0)}},r={serverData:s,currentData:i}},28:(t,e,n)=>{n.d(e,{Z:()=>s});var a=n(471);const s={landingPage(){document.querySelector("body").innerHTML='\n        <div class="navbar"><div class="logo">Weather App</div></div>\n        <div class="container">\n        <div class="main">\n        <img>\n        <div class="location">\n            <p class="location-name"></p>\n        </div>\n        <div class="input">\n            <input type="text" class="text-input" name="location" id="location" placeholder="Specify your location" required>\n            <button class="button" id="submit-button">Set</button>\n        </div>\n        <div class="data"></div>\n        </div>\n        </div>\n        ';const t=document.querySelector("#submit-button");t.addEventListener("click",(function(t){const e=document.querySelector("input").value;a.Z.serverData.fetchByCity(e)})),document.querySelector("input").addEventListener("keypress",(function(e){"Enter"===e.key&&t.click()}))},data(){document.querySelector(".location-name").textContent=`${a.Z.currentData.current.name}`,document.querySelector(".container").classList=`container ${a.Z.currentData.current.weather[0].main}`,document.querySelector("img").src=`http://openweathermap.org/img/wn/${a.Z.currentData.current.weather[0].icon}@2x.png`;const t=document.querySelector(".data"),e=a.Z.currentData.getData();t.innerHTML=`<ul class="data-params">\n            <li class="param">\n                <span class="description" id="temp-desc">Temperature:</span><span class="value" id="temp-value">${e.temp}</span><span>\n                <button id="unit-change">F</button>\n            </li>\n            <li class="param">\n                <span class="description" id="feels-desc">It feels like:</span><span class="value" id="feels-value">${e.feel}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="condition-desc">Condition:</span><span class="value" id="condition-value">${e.desc}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="wind-desc">Wind speed:</span><span class="value" id="wind-value">${e.wind}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="sunrise-desc">Sunrise:</span><span class="value" id="sunrise-value">${e.sunrise}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="sunset-desc">Sunset:</span><span class="value" id="sunset-value">${e.sunset}</span>\n            </li>\n            </ul>`,document.querySelector("button#unit-change").addEventListener("click",(function(t){a.Z.currentData.unitChange()}))}}}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(471)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQU9jLEVBQ1hQLEVBQW9CUSxFQUFFRCxFQUFZZCxLQUFTTyxFQUFvQlEsRUFBRUwsRUFBU1YsSUFDNUVnQixPQUFPQyxlQUFlUCxFQUFTVixFQUFLLENBQUVrQixZQUFZLEVBQU1DLElBQUtMLEVBQVdkLElBRTFFLEVDTkRPLEVBQW9CUSxFQUFJLENBQUNLLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWF0aGVyYXBwbGljYXRpb24vLi9zcmMvZGF0YS5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyYXBwbGljYXRpb24vLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL3dlYXRoZXJhcHBsaWNhdGlvbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWF0aGVyYXBwbGljYXRpb24vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYXRoZXJhcHBsaWNhdGlvbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZW5kZXIgZnJvbSBcIi4vcmVuZGVyXCI7XG5cbmNvbnN0IHNlcnZlckRhdGEgPSB7XG4gICAgZmV0Y2hXZWF0aGVyOiBmdW5jdGlvbihbbGF0aXR1ZGUsIGxvbmdpdHVkZV0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP2xhdD0ke2xhdGl0dWRlfSZsb249JHtsb25naXR1ZGV9JmFwcGlkPWFlYjVhNWI5MTMxYWMxZjEyMTNjOTY2NzYxYzQxNjdlJnVuaXRzPW1ldHJpY2BcbiAgICAgICAgZmV0Y2godXJsLCB7bW9kZTogXCJjb3JzXCJ9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgIGN1cnJlbnREYXRhLmN1cnJlbnQgPSBkYXRhO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmVuZGVyLmRhdGEoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSlcbiAgICB9LFxuICAgIGZldGNoQnlDaXR5KG5hbWUpe1xuICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke25hbWV9JmFwcGlkPWFlYjVhNWI5MTMxYWMxZjEyMTNjOTY2NzYxYzQxNjdlJnVuaXRzPW1ldHJpY2A7XG4gICAgICAgIGZldGNoKHVybCwge21vZGU6IFwiY29yc1wifSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5zdGF0dXMgPT09IDQwNCl7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGFsZXJ0KCdDaXR5IG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgIGN1cnJlbnREYXRhLmN1cnJlbnQgPSBkYXRhO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmVuZGVyLmRhdGEoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSlcbiAgICB9XG59XG5cblxuY29uc3QgY3VycmVudERhdGEgPSB7XG4gICAgY3VycmVudDogdW5kZWZpbmVkLFxuICAgIGN1cnJlbnRVbml0OiAwLFxuICAgIFxuXG4gICAgZ2V0RGF0YSgpe1xuICAgICAgY29uc3QgdGVtcCA9IGAke01hdGgucm91bmQodGhpcy5jdXJyZW50Lm1haW4udGVtcCl9IFxcdTIxMDNgO1xuICAgICAgY29uc3QgZmVlbCA9IGAke01hdGgucm91bmQodGhpcy5jdXJyZW50Lm1haW5bXCJmZWVsc19saWtlXCJdKX0gXFx1MjEwM2A7XG4gICAgICBjb25zdCBkZXNjID0gdGhpcy5jdXJyZW50LndlYXRoZXJbMF0uZGVzY3JpcHRpb247XG4gICAgICBjb25zdCB3aW5kID0gYCR7dGhpcy5jdXJyZW50LndpbmQuc3BlZWR9IGttL2hgO1xuICAgICAgY29uc3Qgc3VucmlzZVRpbWVzdGFtcCA9IG5ldyBEYXRlKHRoaXMuY3VycmVudC5zeXMuc3VucmlzZSAqIDEwMDApO1xuICAgICAgY29uc3Qgc3Vuc2V0VGltZXN0YW1wID0gbmV3IERhdGUodGhpcy5jdXJyZW50LnN5cy5zdW5zZXQgKiAxMDAwKTtcbiAgICAgIGNvbnN0IHN1bnJpc2UgPSBnZXRUaW1lKHN1bnJpc2VUaW1lc3RhbXApO1xuICAgICAgY29uc3Qgc3Vuc2V0ID0gZ2V0VGltZShzdW5zZXRUaW1lc3RhbXApO1xuICAgICAgICBcbiAgICBmdW5jdGlvbiBnZXRUaW1lKHRpbWUpe1xuICAgICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICAgIGlmKHRpbWUuZ2V0SG91cnMoKSA8IDEwKXtcbiAgICAgICAgICAgIHJlc3VsdCArPSAnMCc7XG4gICAgICAgICAgICByZXN1bHQgKz0gdGltZS5nZXRIb3VycygpO1xuICAgICAgICAgICAgaWYodGltZS5nZXRNaW51dGVzKCkgPCAxMCl7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc6MCc7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRpbWUuZ2V0TWludXRlcygpXG4gICAgICAgICAgICB9IGVsc2UgaWYodGltZS5nZXRNaW51dGVzKCkgPj0gMTApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzonO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0aW1lLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aW1lLmdldEhvdXJzKCkgPiAxMCl7XG4gICAgICAgICAgICByZXN1bHQgKz0gdGltZS5nZXRIb3VycygpO1xuICAgICAgICAgICAgaWYodGltZS5nZXRNaW51dGVzKCkgPCAxMCl7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc6MCc7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRpbWUuZ2V0TWludXRlcygpXG4gICAgICAgICAgICB9IGVsc2UgaWYodGltZS5nZXRNaW51dGVzKCkgPj0gMTApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzonO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0aW1lLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZW1wLFxuICAgICAgICAgICAgZmVlbCxcbiAgICAgICAgICAgIGRlc2MsXG4gICAgICAgICAgICB3aW5kLFxuICAgICAgICAgICAgc3VucmlzZSxcbiAgICAgICAgICAgIHN1bnNldFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHVuaXRDaGFuZ2UoKXtcbiAgICAgICAgY29uc3QgdGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wLXZhbHVlJyk7XG4gICAgICAgIGNvbnN0IGZlZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmVlbHMtdmFsdWUnKTtcbiAgICAgICAgY29uc3QgbWV0cmljQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uI3VuaXQtY2hhbmdlJyk7XG4gICAgICAgIGxldCBjZWxUZW1wID0gdGhpcy5jdXJyZW50Lm1haW4udGVtcDtcbiAgICAgICAgbGV0IGNlbEZlZWwgPSB0aGlzLmN1cnJlbnQubWFpbi5mZWVsc19saWtlO1xuICAgICAgICBpZih0aGlzLmN1cnJlbnRVbml0ID09PSAwKXtcbiAgICAgICAgICAgIHRlbXAudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKCgoY2VsVGVtcCAqIDkpIC8gNSApICsgMzUpICsgYFxcdTIxMDlgO1xuICAgICAgICAgICAgZmVlbC50ZXh0Q29udGVudCA9IE1hdGgucm91bmQoKChjZWxGZWVsICogOSkgLyA1ICkgKyAzNSkgKyBgXFx1MjEwOWA7XG4gICAgICAgICAgICBtZXRyaWNCdXR0b24udGV4dENvbnRlbnQgPSBcIkNcIjtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFVuaXQgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFVuaXQgPT09IDEgKXtcbiAgICAgICAgICAgIHRlbXAudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKGNlbFRlbXApICsgYFxcdTIxMDNgO1xuICAgICAgICAgICAgZmVlbC50ZXh0Q29udGVudCA9IE1hdGgucm91bmQoY2VsRmVlbCkgKyBgXFx1MjEwM2A7XG4gICAgICAgICAgICBtZXRyaWNCdXR0b24udGV4dENvbnRlbnQgPSAnRic7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRVbml0ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHNlcnZlckRhdGE6IHNlcnZlckRhdGEsXG4gICAgY3VycmVudERhdGE6IGN1cnJlbnREYXRhLFxufVxuXG4iLCJpbXBvcnQgY3VycmVudERhdGEgZnJvbSAnLi9kYXRhJztcbmltcG9ydCBzZXJ2ZXJEYXRhIGZyb20gJy4vZGF0YSc7XG5cbmNvbnN0IHJlbmRlciA9IHtcbiAgICBsYW5kaW5nUGFnZSgpe1xuICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgICAgICBib2R5LmlubmVySFRNTCA9IFxuICAgICAgICBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJuYXZiYXJcIj48ZGl2IGNsYXNzPVwibG9nb1wiPldlYXRoZXIgQXBwPC9kaXY+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1haW5cIj5cbiAgICAgICAgPGltZz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvY2F0aW9uXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImxvY2F0aW9uLW5hbWVcIj48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXRcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwidGV4dC1pbnB1dFwiIG5hbWU9XCJsb2NhdGlvblwiIGlkPVwibG9jYXRpb25cIiBwbGFjZWhvbGRlcj1cIlNwZWNpZnkgeW91ciBsb2NhdGlvblwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvblwiIGlkPVwic3VibWl0LWJ1dHRvblwiPlNldDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRhdGFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0LWJ1dHRvbicpO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZTtcbiAgICAgICAgICAgIHNlcnZlckRhdGEuc2VydmVyRGF0YS5mZXRjaEJ5Q2l0eShpbnB1dCk7XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGlmKGUua2V5ID09PSAnRW50ZXInKXtcbiAgICAgICAgICAgICAgICBidXR0b24uY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGRhdGEoKXtcbiAgICAgICAgY29uc3QgY2l0eU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9jYXRpb24tbmFtZScpO1xuICAgICAgICAgICAgY2l0eU5hbWUudGV4dENvbnRlbnQgPSBgJHtjdXJyZW50RGF0YS5jdXJyZW50RGF0YS5jdXJyZW50Lm5hbWV9YDtcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQuY2xhc3NMaXN0ID0gYGNvbnRhaW5lciAke2N1cnJlbnREYXRhLmN1cnJlbnREYXRhLmN1cnJlbnQud2VhdGhlclswXS5tYWlufWBcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICAgICAgICBpbWcuc3JjID0gYGh0dHA6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7Y3VycmVudERhdGEuY3VycmVudERhdGEuY3VycmVudC53ZWF0aGVyWzBdLmljb259QDJ4LnBuZ2BcbiAgICAgICAgY29uc3QgZGF0YUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhJyk7XG4gICAgICAgIGNvbnN0IGdldEN1cnJlbnQgPSBjdXJyZW50RGF0YS5jdXJyZW50RGF0YS5nZXREYXRhKCk7IFxuICAgICAgICAgICAgZGF0YUNvbnRhaW5lci5pbm5lckhUTUwgPSBcbiAgICAgICAgICAgIGA8dWwgY2xhc3M9XCJkYXRhLXBhcmFtc1wiPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFyYW1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCIgaWQ9XCJ0ZW1wLWRlc2NcIj5UZW1wZXJhdHVyZTo8L3NwYW4+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiIGlkPVwidGVtcC12YWx1ZVwiPiR7Z2V0Q3VycmVudC50ZW1wfTwvc3Bhbj48c3Bhbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwidW5pdC1jaGFuZ2VcIj5GPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFyYW1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCIgaWQ9XCJmZWVscy1kZXNjXCI+SXQgZmVlbHMgbGlrZTo8L3NwYW4+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiIGlkPVwiZmVlbHMtdmFsdWVcIj4ke2dldEN1cnJlbnQuZmVlbH08L3NwYW4+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFyYW1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCIgaWQ9XCJjb25kaXRpb24tZGVzY1wiPkNvbmRpdGlvbjo8L3NwYW4+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiIGlkPVwiY29uZGl0aW9uLXZhbHVlXCI+JHtnZXRDdXJyZW50LmRlc2N9PC9zcGFuPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhcmFtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiIGlkPVwid2luZC1kZXNjXCI+V2luZCBzcGVlZDo8L3NwYW4+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiIGlkPVwid2luZC12YWx1ZVwiPiR7Z2V0Q3VycmVudC53aW5kfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwYXJhbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIiBpZD1cInN1bnJpc2UtZGVzY1wiPlN1bnJpc2U6PC9zcGFuPjxzcGFuIGNsYXNzPVwidmFsdWVcIiBpZD1cInN1bnJpc2UtdmFsdWVcIj4ke2dldEN1cnJlbnQuc3VucmlzZX08L3NwYW4+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFyYW1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCIgaWQ9XCJzdW5zZXQtZGVzY1wiPlN1bnNldDo8L3NwYW4+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiIGlkPVwic3Vuc2V0LXZhbHVlXCI+JHtnZXRDdXJyZW50LnN1bnNldH08L3NwYW4+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5gXG4gICAgICAgIGNvbnN0IG1ldHJpY0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiN1bml0LWNoYW5nZScpO1xuICAgICAgICBtZXRyaWNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGN1cnJlbnREYXRhLmN1cnJlbnREYXRhLnVuaXRDaGFuZ2UoKTtcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlbmRlcjsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSJdLCJuYW1lcyI6WyJzZXJ2ZXJEYXRhIiwiZmV0Y2hXZWF0aGVyIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJmZXRjaCIsIm1vZGUiLCJ0aGVuIiwiZGF0YSIsImpzb24iLCJjdXJyZW50RGF0YSIsImN1cnJlbnQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaEJ5Q2l0eSIsIm5hbWUiLCJyZXNwb25zZSIsInN0YXR1cyIsImFsZXJ0IiwidW5kZWZpbmVkIiwiY3VycmVudFVuaXQiLCJnZXREYXRhIiwidGVtcCIsIk1hdGgiLCJyb3VuZCIsInRoaXMiLCJtYWluIiwiZmVlbCIsImRlc2MiLCJ3ZWF0aGVyIiwiZGVzY3JpcHRpb24iLCJ3aW5kIiwic3BlZWQiLCJzdW5yaXNlVGltZXN0YW1wIiwiRGF0ZSIsInN5cyIsInN1bnJpc2UiLCJzdW5zZXRUaW1lc3RhbXAiLCJzdW5zZXQiLCJnZXRUaW1lIiwidGltZSIsInJlc3VsdCIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsInVuaXRDaGFuZ2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZXRyaWNCdXR0b24iLCJjZWxUZW1wIiwiY2VsRmVlbCIsImZlZWxzX2xpa2UiLCJ0ZXh0Q29udGVudCIsImxhbmRpbmdQYWdlIiwiaW5uZXJIVE1MIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJpbnB1dCIsInZhbHVlIiwia2V5IiwiY2xpY2siLCJjbGFzc0xpc3QiLCJzcmMiLCJkYXRhQ29udGFpbmVyIiwiZ2V0Q3VycmVudCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=