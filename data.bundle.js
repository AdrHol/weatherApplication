(()=>{"use strict";var t={471:(t,e,n)=>{n.d(e,{Z:()=>r});var a=n(28);const s={fetchWeather:function([t,e]){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=aeb5a5b9131ac1f1213c966761c4167e&units=metric`,{mode:"cors"}).then((function(t){return t.json()})).then((function(t){i.current=t})).then((function(){a.Z.data()})).catch((function(t){console.log(t)}))},fetchByCity(t){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=aeb5a5b9131ac1f1213c966761c4167e&units=metric`,{mode:"cors"}).then((function(t){if(404===t.status)throw alert("City not found");return t.json()})).then((function(t){i.current=t})).then((function(){a.Z.data()})).catch((function(t){console.log(t)}))}},i={current:void 0,currentUnit:0,getData(){const t=`${Math.round(this.current.main.temp)} ℃`,e=`${Math.round(this.current.main.feels_like)} ℃`,n=this.current.weather[0].description,a=`${this.current.wind.speed} km/h`,s=new Date(1e3*this.current.sys.sunrise),i=new Date(1e3*this.current.sys.sunset);function r(t){let e="";return t.getHours()<10?(e+="0",e+=t.getHours(),t.getMinutes()<10?(e+=":0",e+=t.getMinutes()):t.getMinutes()>=10&&(e+=":",e+=t.getMinutes())):t.getHours()>10&&(e+=t.getHours(),t.getMinutes()<10?(e+=":0",e+=t.getMinutes()):t.getMinutes()>=10&&(e+=":",e+=t.getMinutes())),e}return{temp:t,feel:e,desc:n,wind:a,sunrise:r(s),sunset:r(i)}},unitChange(){const t=document.querySelector("#temp-value"),e=document.querySelector("#feels-value"),n=document.querySelector("button#unit-change");let a=this.current.main.temp,s=this.current.main.feels_like;0===this.currentUnit?(t.textContent=Math.round(9*a/5+35)+"℉",e.textContent=Math.round(9*s/5+35)+"℉",n.textContent="C",this.currentUnit=1):1===this.currentUnit&&(t.textContent=Math.round(a)+"℃",e.textContent=Math.round(s)+"℃",n.textContent="F",this.currentUnit=0)}},r={serverData:s,currentData:i}},28:(t,e,n)=>{n.d(e,{Z:()=>s});var a=n(471);const s={landingPage(){document.querySelector("body").innerHTML='\n        <div class="navbar"><div class="logo">Weather App</div></div>\n        <div class="container">\n        <div class="main">\n        <img>\n        <div class="location">\n            <p class="location-name"></p>\n        </div>\n        <div class="input">\n            <input type="text" class="text-input" name="location" id="location" placeholder="Specify your location" required>\n            <button class="button" id="submit-button">Set</button>\n        </div>\n        <div class="data"></div>\n        </div>\n        </div>\n        ';const t=document.querySelector("#submit-button");t.addEventListener("click",(function(t){const e=document.querySelector("input").value;a.Z.serverData.fetchByCity(e)})),document.querySelector("input").addEventListener("keypress",(function(e){"Enter"===e.key&&t.click()}))},data(){document.querySelector(".location-name").textContent=`${a.Z.currentData.current.name}`,document.querySelector(".container").classList=`container ${a.Z.currentData.current.weather[0].main}`,document.querySelector("img").src=`http://openweathermap.org/img/wn/${a.Z.currentData.current.weather[0].icon}@2x.png`;const t=document.querySelector(".data"),e=a.Z.currentData.getData();t.innerHTML=`<ul class="data-params">\n            <li class="param">\n                <span class="description" id="temp-desc">Temperature:</span><span class="value" id="temp-value">${e.temp}</span><span>\n                <button id="unit-change">F</button>\n            </li>\n            <li class="param">\n                <span class="description" id="feels-desc">It feels like:</span><span class="value" id="feels-value">${e.feel}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="condition-desc">Condition:</span><span class="value" id="condition-value">${e.desc}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="wind-desc">Wind speed:</span><span class="value" id="wind-value">${e.wind}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="sunrise-desc">Sunrise:</span><span class="value" id="sunrise-value">${e.sunrise}</span>\n            </li>\n            <li class="param">\n                <span class="description" id="sunset-desc">Sunset:</span><span class="value" id="sunset-value">${e.sunset}</span>\n            </li>\n            </ul>`,document.querySelector("button#unit-change").addEventListener("click",(function(t){a.Z.currentData.unitChange()}))}}}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(471)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxFQUNYUCxFQUFvQlEsRUFBRUQsRUFBWWQsS0FBU08sRUFBb0JRLEVBQUVMLEVBQVNWLElBQzVFZ0IsT0FBT0MsZUFBZVAsRUFBU1YsRUFBSyxDQUFFa0IsWUFBWSxFQUFNQyxJQUFLTCxFQUFXZCxJQUUxRSxFQ05ETyxFQUFvQlEsRUFBSSxDQUFDSyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0d4RGQsRUFBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXJhcHBsaWNhdGlvbi8uL3NyYy9kYXRhLmpzIiwid2VicGFjazovL3dlYXRoZXJhcHBsaWNhdGlvbi8uL3NyYy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlcmFwcGxpY2F0aW9uL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYXRoZXJhcHBsaWNhdGlvbi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2VhdGhlcmFwcGxpY2F0aW9uL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2VhdGhlcmFwcGxpY2F0aW9uL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVuZGVyIGZyb20gXCIuL3JlbmRlclwiO1xuXG5jb25zdCBzZXJ2ZXJEYXRhID0ge1xuICAgIGZldGNoV2VhdGhlcjogZnVuY3Rpb24oW2xhdGl0dWRlLCBsb25naXR1ZGVdKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9sYXQ9JHtsYXRpdHVkZX0mbG9uPSR7bG9uZ2l0dWRlfSZhcHBpZD1hZWI1YTViOTEzMWFjMWYxMjEzYzk2Njc2MWM0MTY3ZSZ1bml0cz1tZXRyaWNgXG4gICAgICAgIGZldGNoKHVybCwge21vZGU6IFwiY29yc1wifSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmpzb24oKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0YS5jdXJyZW50ID0gZGF0YTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJlbmRlci5kYXRhKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pXG4gICAgfSxcbiAgICBmZXRjaEJ5Q2l0eShuYW1lKXtcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtuYW1lfSZhcHBpZD1hZWI1YTViOTEzMWFjMWYxMjEzYzk2Njc2MWM0MTY3ZSZ1bml0cz1tZXRyaWNgO1xuICAgICAgICBmZXRjaCh1cmwsIHttb2RlOiBcImNvcnNcIn0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpe1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBhbGVydCgnQ2l0eSBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7ICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0YS5jdXJyZW50ID0gZGF0YTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJlbmRlci5kYXRhKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pXG4gICAgfVxufVxuXG5cbmNvbnN0IGN1cnJlbnREYXRhID0ge1xuICAgIGN1cnJlbnQ6IHVuZGVmaW5lZCxcbiAgICBjdXJyZW50VW5pdDogMCxcbiAgICBcblxuICAgIGdldERhdGEoKXtcbiAgICAgIGNvbnN0IHRlbXAgPSBgJHtNYXRoLnJvdW5kKHRoaXMuY3VycmVudC5tYWluLnRlbXApfSBcXHUyMTAzYDtcbiAgICAgIGNvbnN0IGZlZWwgPSBgJHtNYXRoLnJvdW5kKHRoaXMuY3VycmVudC5tYWluW1wiZmVlbHNfbGlrZVwiXSl9IFxcdTIxMDNgO1xuICAgICAgY29uc3QgZGVzYyA9IHRoaXMuY3VycmVudC53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uO1xuICAgICAgY29uc3Qgd2luZCA9IGAke3RoaXMuY3VycmVudC53aW5kLnNwZWVkfSBrbS9oYDtcbiAgICAgIGNvbnN0IHN1bnJpc2VUaW1lc3RhbXAgPSBuZXcgRGF0ZSh0aGlzLmN1cnJlbnQuc3lzLnN1bnJpc2UgKiAxMDAwKTtcbiAgICAgIGNvbnN0IHN1bnNldFRpbWVzdGFtcCA9IG5ldyBEYXRlKHRoaXMuY3VycmVudC5zeXMuc3Vuc2V0ICogMTAwMCk7XG4gICAgICBjb25zdCBzdW5yaXNlID0gZ2V0VGltZShzdW5yaXNlVGltZXN0YW1wKTtcbiAgICAgIGNvbnN0IHN1bnNldCA9IGdldFRpbWUoc3Vuc2V0VGltZXN0YW1wKTtcbiAgICAgICAgXG4gICAgZnVuY3Rpb24gZ2V0VGltZSh0aW1lKXtcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgICAgICBpZih0aW1lLmdldEhvdXJzKCkgPCAxMCl7XG4gICAgICAgICAgICByZXN1bHQgKz0gJzAnO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRpbWUuZ2V0SG91cnMoKTtcbiAgICAgICAgICAgIGlmKHRpbWUuZ2V0TWludXRlcygpIDwgMTApe1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnOjAnO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0aW1lLmdldE1pbnV0ZXMoKVxuICAgICAgICAgICAgfSBlbHNlIGlmKHRpbWUuZ2V0TWludXRlcygpID49IDEwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc6JztcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGltZS5nZXRNaW51dGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGltZS5nZXRIb3VycygpID4gMTApe1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRpbWUuZ2V0SG91cnMoKTtcbiAgICAgICAgICAgIGlmKHRpbWUuZ2V0TWludXRlcygpIDwgMTApe1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnOjAnO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0aW1lLmdldE1pbnV0ZXMoKVxuICAgICAgICAgICAgfSBlbHNlIGlmKHRpbWUuZ2V0TWludXRlcygpID49IDEwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc6JztcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGltZS5nZXRNaW51dGVzKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcCxcbiAgICAgICAgICAgIGZlZWwsXG4gICAgICAgICAgICBkZXNjLFxuICAgICAgICAgICAgd2luZCxcbiAgICAgICAgICAgIHN1bnJpc2UsXG4gICAgICAgICAgICBzdW5zZXRcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB1bml0Q2hhbmdlKCl7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVtcC12YWx1ZScpO1xuICAgICAgICBjb25zdCBmZWVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZlZWxzLXZhbHVlJyk7XG4gICAgICAgIGNvbnN0IG1ldHJpY0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiN1bml0LWNoYW5nZScpO1xuICAgICAgICBsZXQgY2VsVGVtcCA9IHRoaXMuY3VycmVudC5tYWluLnRlbXA7XG4gICAgICAgIGxldCBjZWxGZWVsID0gdGhpcy5jdXJyZW50Lm1haW4uZmVlbHNfbGlrZTtcbiAgICAgICAgaWYodGhpcy5jdXJyZW50VW5pdCA9PT0gMCl7XG4gICAgICAgICAgICB0ZW1wLnRleHRDb250ZW50ID0gTWF0aC5yb3VuZCgoKGNlbFRlbXAgKiA5KSAvIDUgKSArIDM1KSArIGBcXHUyMTA5YDtcbiAgICAgICAgICAgIGZlZWwudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKCgoY2VsRmVlbCAqIDkpIC8gNSApICsgMzUpICsgYFxcdTIxMDlgO1xuICAgICAgICAgICAgbWV0cmljQnV0dG9uLnRleHRDb250ZW50ID0gXCJDXCI7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRVbml0ID0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRVbml0ID09PSAxICl7XG4gICAgICAgICAgICB0ZW1wLnRleHRDb250ZW50ID0gTWF0aC5yb3VuZChjZWxUZW1wKSArIGBcXHUyMTAzYDtcbiAgICAgICAgICAgIGZlZWwudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKGNlbEZlZWwpICsgYFxcdTIxMDNgO1xuICAgICAgICAgICAgbWV0cmljQnV0dG9uLnRleHRDb250ZW50ID0gJ0YnO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VW5pdCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBzZXJ2ZXJEYXRhOiBzZXJ2ZXJEYXRhLFxuICAgIGN1cnJlbnREYXRhOiBjdXJyZW50RGF0YSxcbn1cblxuIiwiaW1wb3J0IGN1cnJlbnREYXRhIGZyb20gJy4vZGF0YSc7XG5pbXBvcnQgc2VydmVyRGF0YSBmcm9tICcuL2RhdGEnO1xuXG5jb25zdCByZW5kZXIgPSB7XG4gICAgbGFuZGluZ1BhZ2UoKXtcbiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgICAgICAgYm9keS5pbm5lckhUTUwgPSBcbiAgICAgICAgYFxuICAgICAgICA8ZGl2IGNsYXNzPVwibmF2YmFyXCI+PGRpdiBjbGFzcz1cImxvZ29cIj5XZWF0aGVyIEFwcDwvZGl2PjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYWluXCI+XG4gICAgICAgIDxpbWc+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2NhdGlvblwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJsb2NhdGlvbi1uYW1lXCI+PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInRleHQtaW5wdXRcIiBuYW1lPVwibG9jYXRpb25cIiBpZD1cImxvY2F0aW9uXCIgcGxhY2Vob2xkZXI9XCJTcGVjaWZ5IHlvdXIgbG9jYXRpb25cIiByZXF1aXJlZD5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b25cIiBpZD1cInN1Ym1pdC1idXR0b25cIj5TZXQ8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXRhXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Ym1pdC1idXR0b24nKTtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWU7XG4gICAgICAgICAgICBzZXJ2ZXJEYXRhLnNlcnZlckRhdGEuZmV0Y2hCeUNpdHkoaW5wdXQpO1xuICAgICAgICB9KVxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBpZihlLmtleSA9PT0gJ0VudGVyJyl7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBkYXRhKCl7XG4gICAgICAgIGNvbnN0IGNpdHlOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvY2F0aW9uLW5hbWUnKTtcbiAgICAgICAgICAgIGNpdHlOYW1lLnRleHRDb250ZW50ID0gYCR7Y3VycmVudERhdGEuY3VycmVudERhdGEuY3VycmVudC5uYW1lfWA7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLmNsYXNzTGlzdCA9IGBjb250YWluZXIgJHtjdXJyZW50RGF0YS5jdXJyZW50RGF0YS5jdXJyZW50LndlYXRoZXJbMF0ubWFpbn1gXG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgICAgICAgaW1nLnNyYyA9IGBodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke2N1cnJlbnREYXRhLmN1cnJlbnREYXRhLmN1cnJlbnQud2VhdGhlclswXS5pY29ufUAyeC5wbmdgXG4gICAgICAgIGNvbnN0IGRhdGFDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YScpO1xuICAgICAgICBjb25zdCBnZXRDdXJyZW50ID0gY3VycmVudERhdGEuY3VycmVudERhdGEuZ2V0RGF0YSgpOyBcbiAgICAgICAgICAgIGRhdGFDb250YWluZXIuaW5uZXJIVE1MID0gXG4gICAgICAgICAgICBgPHVsIGNsYXNzPVwiZGF0YS1wYXJhbXNcIj5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhcmFtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiIGlkPVwidGVtcC1kZXNjXCI+VGVtcGVyYXR1cmU6PC9zcGFuPjxzcGFuIGNsYXNzPVwidmFsdWVcIiBpZD1cInRlbXAtdmFsdWVcIj4ke2dldEN1cnJlbnQudGVtcH08L3NwYW4+PHNwYW4+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInVuaXQtY2hhbmdlXCI+RjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhcmFtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiIGlkPVwiZmVlbHMtZGVzY1wiPkl0IGZlZWxzIGxpa2U6PC9zcGFuPjxzcGFuIGNsYXNzPVwidmFsdWVcIiBpZD1cImZlZWxzLXZhbHVlXCI+JHtnZXRDdXJyZW50LmZlZWx9PC9zcGFuPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhcmFtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiIGlkPVwiY29uZGl0aW9uLWRlc2NcIj5Db25kaXRpb246PC9zcGFuPjxzcGFuIGNsYXNzPVwidmFsdWVcIiBpZD1cImNvbmRpdGlvbi12YWx1ZVwiPiR7Z2V0Q3VycmVudC5kZXNjfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwYXJhbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIiBpZD1cIndpbmQtZGVzY1wiPldpbmQgc3BlZWQ6PC9zcGFuPjxzcGFuIGNsYXNzPVwidmFsdWVcIiBpZD1cIndpbmQtdmFsdWVcIj4ke2dldEN1cnJlbnQud2luZH08L3NwYW4+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFyYW1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCIgaWQ9XCJzdW5yaXNlLWRlc2NcIj5TdW5yaXNlOjwvc3Bhbj48c3BhbiBjbGFzcz1cInZhbHVlXCIgaWQ9XCJzdW5yaXNlLXZhbHVlXCI+JHtnZXRDdXJyZW50LnN1bnJpc2V9PC9zcGFuPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhcmFtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiIGlkPVwic3Vuc2V0LWRlc2NcIj5TdW5zZXQ6PC9zcGFuPjxzcGFuIGNsYXNzPVwidmFsdWVcIiBpZD1cInN1bnNldC12YWx1ZVwiPiR7Z2V0Q3VycmVudC5zdW5zZXR9PC9zcGFuPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+YFxuICAgICAgICBjb25zdCBtZXRyaWNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jdW5pdC1jaGFuZ2UnKTtcbiAgICAgICAgbWV0cmljQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBjdXJyZW50RGF0YS5jdXJyZW50RGF0YS51bml0Q2hhbmdlKCk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCByZW5kZXI7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDcxKTtcbiJdLCJuYW1lcyI6WyJzZXJ2ZXJEYXRhIiwiZmV0Y2hXZWF0aGVyIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJmZXRjaCIsIm1vZGUiLCJ0aGVuIiwiZGF0YSIsImpzb24iLCJjdXJyZW50RGF0YSIsImN1cnJlbnQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaEJ5Q2l0eSIsIm5hbWUiLCJyZXNwb25zZSIsInN0YXR1cyIsImFsZXJ0IiwidW5kZWZpbmVkIiwiY3VycmVudFVuaXQiLCJnZXREYXRhIiwidGVtcCIsIk1hdGgiLCJyb3VuZCIsInRoaXMiLCJtYWluIiwiZmVlbCIsImRlc2MiLCJ3ZWF0aGVyIiwiZGVzY3JpcHRpb24iLCJ3aW5kIiwic3BlZWQiLCJzdW5yaXNlVGltZXN0YW1wIiwiRGF0ZSIsInN5cyIsInN1bnJpc2UiLCJzdW5zZXRUaW1lc3RhbXAiLCJzdW5zZXQiLCJnZXRUaW1lIiwidGltZSIsInJlc3VsdCIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsInVuaXRDaGFuZ2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZXRyaWNCdXR0b24iLCJjZWxUZW1wIiwiY2VsRmVlbCIsImZlZWxzX2xpa2UiLCJ0ZXh0Q29udGVudCIsImxhbmRpbmdQYWdlIiwiaW5uZXJIVE1MIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJpbnB1dCIsInZhbHVlIiwia2V5IiwiY2xpY2siLCJjbGFzc0xpc3QiLCJzcmMiLCJkYXRhQ29udGFpbmVyIiwiZ2V0Q3VycmVudCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=